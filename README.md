
# Nombre de la Aplicacion: (Compañia de Viajes)

## Tematica: Publica: Consultar precios de viajes, hotel, ocio. Las fechas disponibles, comparar precios. Privada: imprimir recibos, efectuar reservar, modificar datos usuario o reserva.**

 ### Entidades: Usuario: Persona que usa la aplicacion de manera privada.
  ###           Vuelos: Contratado por un usuario, ocurre entre dos aeropuertos. Se puede ver informacion de precio y fechas.
  ###           Hotel: Contratado por un usuario y perteneciente a una ciudad. Se puede ver informacion de calidad,  precio y fechas.
   
   ###          Aeropuerto: Situado en una ciudad. Vuelos de salida y de llegada. 
   ###          Reserva: Junta los vuelos y las reservas de hotel creando un pack.
   
   ###          Servicio Interno: Imprimir billetes, Contrato de un hotel, billetes Ocio. El usuario recibe un correo con el tipo de servicio (Confirmacion, recordatorio). Recibir un correo cuando se modifican los datos del usuario. Correo de confirmacion de alta. 
   
   #### Equipo de Desarrollo: Pablo Martin Sanchez, p.martins.2017@alumnos.urjc.es, Hubalius2.
   ####                       Álvaro López Marcos, a.lopezmarc.2020@alumnos.urjc.es, alvilopez.
            

## Capturas de Pantalla Aplicacion:
![Usuario](https://user-images.githubusercontent.com/78815899/110352964-cfedf580-8036-11eb-970e-7fd883dc78ea.PNG)
#### Plantilla que permite iniciar sesion o crear un nuevo usuario.
#### ------------------------------------------------------------------------------------------------------------------
![CrearUsuario](https://user-images.githubusercontent.com/78815899/110353028-e2682f00-8036-11eb-8426-11bf1e558f2d.PNG)
#### Plantilla que permite crear un usuario.
#### ------------------------------------------------------------------------------------------------------------------
![UsuarioCreado](https://user-images.githubusercontent.com/78815899/110353077-f2800e80-8036-11eb-9448-6cc015c4343a.PNG)
#### Plantilla con un mensaje cuando el usuario ha sido creado correctamente.
#### ------------------------------------------------------------------------------------------------------------------
![ErrorLogin](https://user-images.githubusercontent.com/78815899/110353159-0592de80-8037-11eb-8e85-044ff728dba7.PNG)
#### Plantilla mensaje cuando se produce un error al iniciar sesion.
#### ------------------------------------------------------------------------------------------------------------------
![Pagina](https://user-images.githubusercontent.com/78815899/110353217-18a5ae80-8037-11eb-94e5-9526c315252a.PNG)
#### Plantilla que permite ver que ofrece la aplicacion.
#### ------------------------------------------------------------------------------------------------------------------
![VerPerfil](https://user-images.githubusercontent.com/78815899/110353274-278c6100-8037-11eb-9784-2efe03b60913.PNG)
#### Plantilla que permite ver los detalles de un usuario.
#### ------------------------------------------------------------------------------------------------------------------
![MirarReservas](https://user-images.githubusercontent.com/78815899/110361769-c1a4d700-8040-11eb-8abb-07163350fcee.PNG)
#### Plantilla permite ver las reservas
#### ------------------------------------------------------------------------------------------------------------------
![BuscarVuelo](https://user-images.githubusercontent.com/78815899/110353323-383cd700-8037-11eb-974f-a7ff10f971bd.PNG)
#### Plantilla que permite elegir las ciudades de origen y de destino.
#### ------------------------------------------------------------------------------------------------------------------
![ReservarVuelo](https://user-images.githubusercontent.com/78815899/110353369-4985e380-8037-11eb-9f10-c717d4f31eed.PNG)
#### Plantilla que permite elegir los codigos de los vuelos seleccionados.
#### ------------------------------------------------------------------------------------------------------------------
![Vuelo_Hotel](https://user-images.githubusercontent.com/78815899/110353435-5acef000-8037-11eb-8183-ae96c5f76a83.PNG)
#### Plantilla que permite elegir los codigos de los vuelos y el hotel.
#### ------------------------------------------------------------------------------------------------------------------
![ReservaCorrecta](https://user-images.githubusercontent.com/78815899/110353516-6f12ed00-8037-11eb-8266-f9f35ef7b0d3.PNG)
#### PLantilla muestra un mensaje en el cual pone que la reserva se ha realizado correctamente.
#### ------------------------------------------------------------------------------------------------------------------
![ErrorReserva](https://user-images.githubusercontent.com/78815899/110353575-8356ea00-8037-11eb-8488-bb89aea11912.PNG)
#### Plantilla muestra ha habido un error realizando una reserva.
#### ------------------------------------------------------------------------------------------------------------------
![CrearAeropuerto](https://user-images.githubusercontent.com/34128078/111205943-152a9e00-85c8-11eb-8ca5-f383a2c0a1b4.PNG)
#### Plantilla con formulario para la creacion de un Aeropuerto.
#### ------------------------------------------------------------------------------------------------------------------
![AeropuertoCreado](https://user-images.githubusercontent.com/34128078/111206261-718dbd80-85c8-11eb-8338-388295fcc02a.PNG)
#### Plantilla con con la confirmación de que un Aeropuerto ha sido creado.
#### ------------------------------------------------------------------------------------------------------------------
![EliminarAeropuerto](https://user-images.githubusercontent.com/34128078/111206260-718dbd80-85c8-11eb-8837-eb6373fb9d53.PNG)
#### Plantilla para indicar que Aeropuerto se pretende eliminar.
#### ------------------------------------------------------------------------------------------------------------------
![AeropuertoEliminado](https://user-images.githubusercontent.com/34128078/111206257-70f52700-85c8-11eb-89e2-3eb9fd7698be.PNG)
#### Plantilla para indicar que un Aeropuerto ha sido eliminado.
#### ------------------------------------------------------------------------------------------------------------------
![CrearHotelDeVerdad](https://user-images.githubusercontent.com/34128078/111206274-72beea80-85c8-11eb-941b-c06dadc2b806.PNG)
#### Plantilla con formulario para la creacion de un Hotel.
#### ------------------------------------------------------------------------------------------------------------------
![HotelCreado](https://user-images.githubusercontent.com/34128078/111206269-72265400-85c8-11eb-9f63-76b2857418ab.PNG)
#### Plantilla con con la confirmación de que un Hotel ha sido creado.
#### ------------------------------------------------------------------------------------------------------------------
![EliminarHotel](https://user-images.githubusercontent.com/34128078/111206265-72265400-85c8-11eb-920b-3004983dcd85.PNG)
#### Plantilla para indicar que Hotel se pretende eliminar.
#### ------------------------------------------------------------------------------------------------------------------
![HotelEliminado](https://user-images.githubusercontent.com/34128078/111206275-72beea80-85c8-11eb-8cc4-21b33615b684.PNG)
#### Plantilla para indicar que un Hotel ha sido eliminado.
#### ------------------------------------------------------------------------------------------------------------------
![CrearVuelo](https://user-images.githubusercontent.com/34128078/111206250-705c9080-85c8-11eb-9030-37954795efce.PNG)
#### Plantilla con formulario para la creacion de un Vuelo.
#### ------------------------------------------------------------------------------------------------------------------
![VueloCreado](https://user-images.githubusercontent.com/34128078/111206255-70f52700-85c8-11eb-9a9e-49f384d82554.PNG)
#### Plantilla con con la confirmación de que un Vuelo ha sido creado.
#### ------------------------------------------------------------------------------------------------------------------
![ErrorDatos](https://user-images.githubusercontent.com/34128078/111206271-72265400-85c8-11eb-818d-b427944c9816.PNG)
#### Plantilla con con notificación de que los datos son erroneos.
#### ------------------------------------------------------------------------------------------------------------------
![ImprimirBillete](https://user-images.githubusercontent.com/78815899/115295922-98f12080-a15a-11eb-9024-e7fd3bd8db94.PNG)
#### Plantilla que permite ver un pdf con la informacion de la reserva.
#### ------------------------------------------------------------------------------------------------------------------

## Diagrama de Navegacion
![DiagramaNavegacion](https://user-images.githubusercontent.com/78815899/110356766-e1390100-803a-11eb-8a66-4b61e7a4d6e8.PNG)
## Diagrama UML
![Diagrama de clases](https://user-images.githubusercontent.com/34128078/115391967-570abd80-a1e0-11eb-9dc6-3edc4ef079f5.PNG)

## Pasos a seguir para la virtualización
#### 1. Descargar e instalar Virtual Box y Vagrant, en esta última ejecutaremos la máquina virtual, en nuestro caso, Ubuntu,
mediante Vagrant init.
#### 2. Añadir a la configuración, en el archivo VagranFile, generado al instalar el S.O. la línea:
config.vm.network "forwarded_port", guest: 8443, host: 8443, host_ip: "127.0.0.1".
#### 3. Arrancar la máquina virtual mediante el comando: vagrant up.
#### 4. Conectarse a la máquina virtual mediante protocolo ssh mediante el comando: vagrant ssh.
#### 5. Instalar java 11, ya que es el que hemos utilizado para la cración de la aplicación.
#### 6. Instalar sql-server en la máquina virtual usando la misma contraseña que usamos en el workbench.
#### 7. Crear una conexión a la base de datos de tipo TCP/IP over SSH. El usuario ssh será "vagrant" y el path del Key File podemos encontrarlo en el resultado de ejecutar el comando en la ubicación donde fue instalada la máquina vagrant.
#### 8. Generaremos el Jar, ya sea en Eclipse: Run As-> Maven Build... (escribiendo en goals "packages")

## Balanceador de carga mediante SSL-PassThrough
El balanceador de carga utilizado se ejecuta de manera que el usuario se conecta mediante ssl a la propia aplicacion, es decir que el certificado https es propio de la aplicación y no del balanceador de carga. Dicho balanceador de carga se ejecuta en el puerto 443 de nuestro servidor local. A su vez, este comprueba si las dos instancias de la aplicacion web alojadas en diferentes contenedores están disponibles. En el caso de no poder establecer conexión con alguno de dichos contenedores, se redirige a otro dispobible mediante el método RoundRobin.

##Diagrama estructura docker-compose
![DadDockerCompose](https://user-images.githubusercontent.com/78815899/122450709-9c145b80-cfa7-11eb-9803-9b808b8592ff.PNG)

## Enlace Video Youtube: 
https://youtu.be/jbZdDx-tRQk
